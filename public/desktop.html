<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>عرض المحتوى - الكمبيوتر</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <!-- Google Font: Cairo -->
  <link href="https://fonts.googleapis.com/css?family=Cairo&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background-color: #e9ecef;
    }
    .container {
      margin-top: 20px;
    }
    /* Chat area styles */
    #chatArea {
      height: 300px;
      overflow-y: auto;
      border: 1px solid #ccc;
      background: #fff;
      padding: 10px;
      margin-bottom: 20px;
    }
    /* Group section styles */
    #groupDisplaySection {
      border: 1px solid #ccc;
      background: #fff;
      padding: 10px;
    }
    #participantGrid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    .participant {
      width: 100px;
      height: 100px;
      background-color: #fff;
      border: 2px solid #ccc;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      font-weight: bold;
    }
    .participant.speaking {
      border-color: #28a745;
      animation: wave 1s infinite;
    }
    @keyframes wave {
      0% { box-shadow: 0 0 5px #28a745; }
      50% { box-shadow: 0 0 20px #28a745; }
      100% { box-shadow: 0 0 5px #28a745; }
    }
    #groupChatArea {
      height: 200px;
      overflow-y: auto;
      border: 1px solid #ccc;
      background: #fff;
      padding: 10px;
      margin-bottom: 10px;
    }
    /* Desktop waveform indicator */
    #desktopWaveform {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 30px;
      margin: 10px auto;
    }
    #desktopWaveform.d-none {
      display: none;
    }
    #desktopWaveform .bar {
      width: 4px;
      height: 10px;
      margin: 0 2px;
      background-color: #dc3545;
      animation: pulse 1s infinite;
    }
    #desktopWaveform .bar:nth-child(2) { animation-delay: 0.2s; }
    #desktopWaveform .bar:nth-child(3) { animation-delay: 0.4s; }
    #desktopWaveform .bar:nth-child(4) { animation-delay: 0.6s; }
    #desktopWaveform .bar:nth-child(5) { animation-delay: 0.8s; }
    @keyframes pulse {
      0% { height: 10px; }
      50% { height: 20px; }
      100% { height: 10px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Chat Area for regular messages (text, drawing, voice outside group) -->
    <div id="chatArea"></div>
    
    <!-- Group Section (المجلس) -->
    <div id="groupDisplaySection" class="d-none">
      <!-- Participant Grid -->
      <div id="participantGrid"></div>
      <!-- Group Chat Area for group text/voice messages -->
      <div id="groupChatArea"></div>
      <!-- Waveform indicator for push-to-talk -->
      <div id="desktopWaveform" class="d-none">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
      <!-- Push-to-Talk Button -->
      <button id="pushToTalkBtn" class="btn btn-danger">اضغط للتحدث</button>
    </div>
  </div>

  <!-- Socket.io -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- jQuery and Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
  <script src="/js/desktop.js"></script>
</body>
</html>
